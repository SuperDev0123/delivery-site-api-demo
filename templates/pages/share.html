{% extends 'layouts/base.html' %}
{% block title %} : Home {% endblock %}
{% load static %}
{% block content %}
    <div class="container h-100vh">
    	<div class="row justify-content-md-center mt-5 mb-5">
    		<div class="col-12">
    			<form action="/share/upload/" class="dropzone" id="uploadDropzone">
    				{% csrf_token %}
    			</form>
        	</div>
        	<div class="col-12" id="upload-filename">
        		<p></p>
        	</div>
        </div>
    </div>
{% endblock %}  
{% block extra_css_lib %}
	<link rel="stylesheet" href="{% static '/js/libs/dropzone/dropzone.css' %}">
{% endblock %}
{% block extra_js %}
	<script src="{% static '/js/libs/dropzone/dropzone.js' %}"></script>
	<script>
		Dropzone.options.uploadDropzone = {
			paramName: "file", 	// The name that will be used to transfer the file,
			maxFilesize: 250, 	// MB
			accept: function(file, done) {
				console.log(file.name);
				if (file.name == "justinbieber.jpg") {
				  done("Naha, you don't.");
				}
				else { done(); }
			},
			init: function() {
				this.on("success", function(file) { 
					$("#upload-filename > p").text("Upload a file with prepend filename: " + file.xhr.response);
				});
			}
		};
	</script>
{% endblock %}  